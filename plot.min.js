(function(){
'use strict';var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(a,d,b){a!=Array.prototype&&a!=Object.prototype&&(a[d]=b.value)};$jscomp.getGlobal=function(a){return"undefined"!=typeof window&&window===a?a:"undefined"!=typeof global&&null!=global?global:a};$jscomp.global=$jscomp.getGlobal(this);
$jscomp.polyfill=function(a,d,b,c){if(d){b=$jscomp.global;a=a.split(".");for(c=0;c<a.length-1;c++){var e=a[c];e in b||(b[e]={});b=b[e]}a=a[a.length-1];c=b[a];d=d(c);d!=c&&null!=d&&$jscomp.defineProperty(b,a,{configurable:!0,writable:!0,value:d})}};$jscomp.polyfill("Array.prototype.fill",function(a){return a?a:function(a,b,c){var d=this.length||0;0>b&&(b=Math.max(0,d+b));if(null==c||c>d)c=d;c=Number(c);0>c&&(c=Math.max(0,d+c));for(b=Number(b||0);b<c;b++)this[b]=a;return this}},"es6","es3");
window.Plot=Plot;function Plot(a,d){this.div=a;this.config=d;this.initialize(a,d);window.addEventListener("resize",function(a){this.paintPlot()}.bind(this))}Plot.prototype.initialize=function(a,d){this.doWhenLoaded(function(){this.div=a;for(var b in d)this[b]=d[b];this.applyDefaultSettings();this.bottomMargin=0;this.calculateDataRanges();this.paintPlot()})};
Plot.prototype.paintPlot=function(){this.generateCanvas(this.div);this.calculateDrawingRanges();this.calculateDrawingProperties();this.scaleData();this.draw()};
Plot.prototype.generateCanvas=function(a){var d=window.devicePixelRatio||1,b=a.getBoundingClientRect(),c=document.createElement("canvas");this.width=Math.round(b.width);this.height=Math.round(b.height);c.width=this.width*d;c.height=this.height*d;this.ctx=c.getContext("2d");this.ctx.scale(d,d);a.style.position="relative";a.style.overflow="hidden";a.style.top="0px";a.style.left="0px";c.style.position="absolute";c.style.top="0px";c.style.left="0px";c.style.height=this.height+"px";c.style.width=this.width+
"px";a.innerHTML="";a.appendChild(c);this.canvas=c;this.ctx=this.canvas.getContext("2d");this.canvas.style["background-color"]=this.backgroundColor};
Plot.prototype.applyDefaultSettings=function(){var a={backgroundColor:"#4caf50",xAxisSize:.05,yAxisSize:.05,topMargin:.05,rightMargin:.05,xAxisLabelMaxDecimals:2,yAxisLabelMaxDecimals:2,yAxisLabelSuffix:"",yAxisLabelPrefix:"",xAxisLabelSuffix:"",xAxisLabelPrefix:"",xAxisMaxLabels:11,yAxisMaxLabels:15,drawGridLineX:!0,drawGridLineY:!0,preferredLabelStepsX:[1,2,2.5,5],preferredLabelStepsY:[1,2,2.5,5],equalLabelSize:!0},d={type:"line",color:"#fff",linewidth:5,dataPointRadius:4,dataPointLinewidth:2,xHighlight:[],
yHighlight:[],interpolationSteps:0},b={color:"#fff",shadowColor:"#80e27e",linewidth:4,dataPointRadius:1.5,xHighlight:[],yHighlight:[],interpolationSteps:0},c;for(c in a)void 0==this[c]&&(this[c]=a[c]);a=this.graphs.length;for(c=0;c<a;c++)if("shadow"==this.graphs[c].type)for(var e in b)void 0==this.graphs[c][e]&&(this.graphs[c][e]=b[e]);else for(e in d)void 0==this.graphs[c][e]&&(this.graphs[c][e]=d[e])};
Plot.prototype.calculateDataRanges=function(){for(var a=0;a<this.graphs.length;a++){var d=this.graphs[a];"polynomial"==d.interpolate&&this.polinomialInterpolation(d)}this.allXData=[];this.allYData=[];for(a=0;a<this.graphs.length;a++)this.allXData=this.allXData.concat(this.graphs[a].x),this.allXData=this.allXData.concat(this.graphs[a].xHighlight),this.allYData=this.allYData.concat(this.graphs[a].y),this.allYData=this.allYData.concat(this.graphs[a].yHighlight);this.allXData.length!=this.allYData.length&&
console.warn("Not the same amount of x and y values. Plot is probably wrong!");this.minX=Math.min.apply(null,this.allXData);this.minY=Math.min.apply(null,this.allYData);this.maxX=Math.max.apply(null,this.allXData);this.maxY=Math.max.apply(null,this.allYData);this.xDataRange=this.maxX-this.minX;this.yDataRange=this.maxY-this.minY;this.orderX=.1*orderOfMagnitude(this.xDataRange);a=Math.pow(10,-this.xAxisLabelMaxDecimals);a>this.orderX&&(this.orderX=a);this.decimalsX=-orderToDecimalCount(this.orderX);
this.orderY=.1*orderOfMagnitude(this.yDataRange);a=Math.pow(10,-this.yAxisLabelMaxDecimals);a>this.orderY&&(this.orderY=a);this.decimalsY=-orderToDecimalCount(this.orderY)};
Plot.prototype.calculateDrawingRanges=function(a,d,b,c){this.minPlottingX=null==a?floorToDecimals(Math.min.apply(null,this.allXData),this.decimalsX):a;this.minPlottingY=null==d?floorToDecimals(Math.min.apply(null,this.allYData),this.decimalsY):d;this.maxPlottingX=null==b?ceilToDecimals(Math.max.apply(null,this.allXData),this.decimalsX):b;this.maxPlottingY=null==c?ceilToDecimals(Math.max.apply(null,this.allYData),this.decimalsY):c;this.xPlottingRange=this.maxPlottingX-this.minPlottingX;this.yPlottingRange=
this.maxPlottingY-this.minPlottingY;this.xScaling=this.width/this.xPlottingRange;this.yScaling=this.height/this.yPlottingRange;this.yScaling*=1-(this.topMargin+this.bottomMargin+this.xAxisSize);this.xScaling*=1-this.yAxisSize-this.rightMargin;this.bottomOffset=(this.bottomMargin+this.xAxisSize)*this.height;this.topOffset=this.topMargin*this.height;this.leftOffset=this.yAxisSize*this.width;this.rightOffset=this.rightMargin*this.width;this.bottom=this.height};
function floorToDecimals(a,d){return Math.floor(a*Math.pow(10,d))/Math.pow(10,d)}function ceilToDecimals(a,d){return Math.ceil(a*Math.pow(10,d))/Math.pow(10,d)}
Plot.prototype.scaleData=function(){for(var a=0;a<this.graphs.length;a++)this.graphs[a].xCoordinates=scaleCoordinates(this.graphs[a].x,this.xScaling,this.minPlottingX,this.leftOffset),this.graphs[a].yCoordinates=scaleAndInvertCoordinates(this.graphs[a].y,this.yScaling,this.minPlottingY,this.bottomOffset,this.bottom),this.graphs[a].xCoordinatesHighlight=scaleCoordinates(this.graphs[a].xHighlight,this.xScaling,this.minPlottingX,this.leftOffset),this.graphs[a].yCoordinatesHighlight=scaleAndInvertCoordinates(this.graphs[a].yHighlight,
this.yScaling,this.minPlottingY,this.bottomOffset,this.bottom)};Plot.prototype.calculateLabelHeightYaxis=function(){var a=round(this.maxPlottingY+this.dataStepSizeY,this.yAxisLabelMaxDecimals);isNaN(a)&&!isNaN(this.maxPlottingY+this.dataStepSizeY)&&console.error("To many decimals, or numbers to long, cannot round, try reducing MaxDecimals");this.longestLabelY=a.toString().length+this.yAxisLabelPrefix.length+this.yAxisLabelSuffix.length;this.labelHeightY=1.5*this.yAxisWidth/this.longestLabelY};
Plot.prototype.calculateDrawingProperties=function(){this.calculateDrawingPropertiesX();this.calculateDrawingPropertiesY();this.xLabelNames?(this.gridLineCountX=this.xLabelNames.length,this.drawingStepSizeX=this.xAxisWidth/(this.gridLineCountX-1),this.dataStepSizeX=this.xDataRange/(this.gridLineCountX-1),this.calculateDrawingRanges(null,null,null,null)):this.calculateStepSizeX();this.calculateStepSizeY()};
Plot.prototype.calculateDrawingPropertiesX=function(){this.xAxisHeight=this.bottomOffset;this.xAxisWidth=this.width-this.leftOffset-this.rightOffset;this.longestLabelX=round(this.maxPlottingX,this.xAxisLabelMaxDecimals).toString().length+this.xAxisLabelPrefix.length+this.xAxisLabelSuffix.length;this.labelHeightX=this.xAxisHeight;this.longestLabelWidthX=this.longestLabelX*this.labelHeightX};
Plot.prototype.calculateDrawingPropertiesY=function(){this.yAxisHeight=this.height-this.topOffset-this.bottomOffset;this.yAxisWidth=this.leftOffset;this.longestLabelY=round(this.maxPlottingY+this.dataStepSizeY,this.yAxisLabelMaxDecimals).toString().length+this.yAxisLabelPrefix.length+this.yAxisLabelSuffix.length};
Plot.prototype.calculateStepSizeX=function(){var a=this.preferredLabelStepsX,d=this.orderX;this.preferredLabelStepsX.forEach(function(b,c){a[c]*=d});for(var b=0;b<a.length;b++){var c=a[b]-this.maxX%a[b];c==a[b]&&(c=0);var e=this.minX-this.minX%a[b];c=this.maxX+c;this.gridLineCountX=(c-e)/a[b]+1;this.drawingStepSizeX=this.xAxisWidth/(this.gridLineCountX-1);this.dataStepSizeX=a[b];var f=this.drawingStepSizeX<this.longestLabelWidthX;if(this.gridLineCountX>this.xAxisMaxLabels||f)b==a.length-1&&(this.preferredLabelStepsX.forEach(function(b,
c){a[c]*=10}),b=-1);else{this.calculateDrawingRanges(e,this.minY,c,this.maxY);break}}};
Plot.prototype.calculateStepSizeY=function(){var a=this.preferredLabelStepsY,d=this.orderY;this.preferredLabelStepsY.forEach(function(b,c){a[c]*=d});for(var b=0;b<a.length;b++){var c=a[b]-this.maxY%a[b];c==a[b]&&(c=0);var e=this.minY-this.minY%a[b];c=this.maxY+c;this.gridLineCountY=(c-e)/a[b]+1;this.drawingStepSizeY=this.yAxisHeight/(this.gridLineCountY-1);this.dataStepSizeY=a[b];this.calculateLabelHeightYaxis();var f=this.drawingStepSizeY<this.labelHeightY;if(this.gridLineCountY>this.yAxisMaxLabels||
f)b==a.length-1&&(this.preferredLabelStepsY.forEach(function(b,c){a[c]*=10}),b=-1);else{this.calculateDrawingRanges(this.minX,e,this.maxX,c);break}}};
Plot.prototype.drawAxis=function(){drawGridLineX("#fff",this.leftOffset,this.height-this.bottomOffset,this.width-this.leftOffset-this.rightOffset,this.ctx);drawGridLineY("#fff",this.leftOffset,this.height-this.bottomOffset,this.height-this.topOffset-this.bottomOffset,this.ctx);for(var a=0;a<this.gridLineCountY;a+=1){var d=this.topOffset+this.yAxisHeight-a*this.drawingStepSizeY,b=this.minPlottingY+this.dataStepSizeY*a;b=round(b,this.longestLabelY);var c=this.longestLabelY-b.toString().length-this.yAxisLabelPrefix.length-
this.yAxisLabelSuffix.length;c>this.yAxisLabelMaxDecimals&&(c=this.yAxisLabelMaxDecimals);b=fillWithDecimalZeros(b,c);b=this.yAxisLabelPrefix+b+this.yAxisLabelSuffix;drawTextWithHeight(b,this.yAxisWidth/2,d,this.labelHeightY,"#fff",this.ctx);this.drawGridLineX&&drawGridLineX("#fff",this.leftOffset,d,this.width-this.leftOffset-this.rightOffset,this.ctx)}for(a=0;a<this.gridLineCountX;a+=1)d=this.leftOffset+a*this.drawingStepSizeX,this.xLabelNames?b=this.xLabelNames[a]:(b=this.minPlottingX+this.dataStepSizeX*
a,b=round(b,this.longestLabelX),c=this.longestLabelX-b.toString().length-this.xAxisLabelPrefix.length-this.xAxisLabelSuffix.length,c>this.xAxisLabelMaxDecimals&&(c=this.xAxisLabelMaxDecimals),b=fillWithDecimalZeros(b,c)),b=this.xAxisLabelPrefix+b+this.xAxisLabelSuffix,c=this.xAxisHeight/2,this.equalLabelSize&&this.labelHeightX>this.labelHeightY&&(this.labelHeightX=this.labelHeightY),drawTextWithHeight(b,d,this.height-this.bottomOffset+c,this.labelHeightX,"#fff",this.ctx),this.drawGridLineY&&drawGridLineY("#fff",
d,this.height-this.bottomOffset,this.height-this.topOffset-this.bottomOffset,this.ctx)};
Plot.prototype.draw=function(){for(var a=0;a<this.graphs.length;a++)"line"==this.graphs[a].type?(drawLineInterpolation(this.graphs[a].xCoordinates,this.graphs[a].yCoordinates,this.graphs[a].color,this.graphs[a].linewidth,this.ctx),drawDataPoints(this.graphs[a].xCoordinatesHighlight,this.graphs[a].yCoordinatesHighlight,this.graphs[a].color,this.graphs[a].dataPointRadius,this.graphs[a].dataPointLinewidth,!1,this.ctx)):"shadow"==this.graphs[a].type&&(drawLineInterpolation(this.graphs[a].xCoordinates,
this.graphs[a].yCoordinates,this.graphs[a].color,this.graphs[a].linewidth,this.ctx),drawDataPoints(this.graphs[a].xCoordinatesHighlight,this.graphs[a].yCoordinatesHighlight,this.graphs[a].color,this.graphs[a].dataPointRadius,this.graphs[a].linewidth,!0,this.ctx),drawShadowInterpolation(this.graphs[a].xCoordinates,this.graphs[a].yCoordinates,this.graphs[a].shadowColor,this.bottom-this.bottomOffset,this.ctx));this.drawAxis()};
function scaleCoordinates(a,d,b,c){for(var e=[],f=0;f<a.length;f++)e[f]=d*(a[f]-b)+c;return e}function scaleAndInvertCoordinates(a,d,b,c,e){for(var f=[],g=0;g<a.length;g++)f[g]=e-d*(a[g]-b)-c;return f}function drawTextWithHeight(a,d,b,c,e,f){c/=20;d/=c;b/=c;f.save();f.font="20px Arial, Helvetica, sans-serif";f.fillStyle=e;f.scale(c,c);f.textAlign="center";f.textBaseline="middle";f.fillText(a,d,b);f.restore()}
function drawGridLineX(a,d,b,c,e){e.beginPath();e.strokeStyle=a;e.lineWidth=1;e.moveTo(d,b);e.lineTo(d+c,b);e.stroke()}function drawGridLineY(a,d,b,c,e){e.beginPath();e.strokeStyle=a;e.lineWidth=1;e.moveTo(d,b);e.lineTo(d,b-c);e.stroke()}function drawDataPoints(a,d,b,c,e,f,g){for(var h=0;h<a.length;h++)drawDataPoint(a[h],d[h],b,c,e,f,g)}
var drawDataPoint=function(a,d,b,c,e,f,g){g.lineWidth=e;g.strokeStyle=b;g.beginPath();g.arc(a,d,c,0,2*Math.PI,!0);g.fillStyle=f?b:null;g.fill();g.stroke();f||(g.strokeStyle="rgb(255, 255, 255)",g.globalCompositeOperation="destination-out",g.fillStyle="rgba(255,255,255,255)",g.lineWidth=1,g.beginPath(),g.arc(a,d,c-e/2,0,2*Math.PI,!0),g.fill(),g.stroke(),g.globalCompositeOperation="source-over")},drawLineInterpolation=function(a,d,b,c,e){e.lineWidth=c;e.strokeStyle=b;for(var f=0;f<a.length;f++)e.beginPath(),
e.moveTo(a[f],d[f]),e.lineTo(a[f+1],d[f+1]),e.stroke();e.fillStyle=b;e.linewidth=1;b=Math.ceil(c/2)-1;for(f=0;f<a.length;f++)e.beginPath(),e.arc(a[f],d[f],b,0,2*Math.PI,!0),e.fill()},drawShadowInterpolation=function(a,d,b,c,e){e.globalCompositeOperation="destination-over";e.lineWidth=1;e.strokeStyle=b;e.fillStyle=b;for(b=0;b<a.length;b++)e.beginPath(),e.moveTo(a[b],d[b]),e.lineTo(a[b],c),e.lineTo(a[b+1],c),e.lineTo(a[b+1],d[b+1]),e.fill(),e.stroke();e.globalCompositeOperation="source-over"};
function round(a,d){a=a.toString();var b=a.indexOf("E"),c=a.indexOf("e"),e=0;-1<c?(e=parseFloat(a.substring(c+1)),a=a.substring(0,c)):-1<b&&(e=parseFloat(a.substring(b+1)),a=a.substring(0,b));return Number(Math.round(a+"e"+(e+d))+"e-"+d)}function orderOfMagnitude(a){return Math.pow(10,Math.floor(Math.log(Math.abs(a))/Math.LN10+1E-9))}function orderToDecimalCount(a){return Math.round(Math.log(a)/Math.log(10))}
function toFixedDecimals(a,d){a+="";var b=a.toString().indexOf(".");if(-1==b)for(0<d&&(a+="."),b=0;b<d;b++)a+="0";else{var c=a.toString().length-(b+1);for(b=0;b<d-c;b++)a+="0"}return a}function fillWithDecimalZeros(a,d){a=a.toString();var b=-1==a.indexOf(".");if(b&&1==d)return a;b&&1<d&&(a+=".",d--);for(b=0;b<d;b++)a+="0";return a}var loaded=!1;window.addEventListener("load",function(){loaded=!0});Plot.prototype.doWhenLoaded=function(a){loaded?a.bind(this)():window.addEventListener("load",function(){a.bind(this)()}.bind(this))};
Plot.prototype.polinomialInterpolation=function(a){for(var d=a.x,b=a.y,c=[],e=[],f=0;f<d.length;f++){var g=[d[f],b[f]];e.push(g);for(var h=2;h<=f+1;h++){e[e.length-1]=g;var k=e.length-1;g.push((e[k][h-1]-e[k-1][h-1])/(e[k][0]-e[k-h+1][0]))}c.push(g[g.length-1])}a.interpolationCoefficients=c;b=(d[d.length-1]-d[0])/(this.interpolationSteps-1);e=[];g=[];for(f=0;f<this.interpolationSteps;f++){h=f*b+d[0];k=1;for(var m=0,l=0;l<c.length;l++)m+=c[l]*k,k*=h-d[l];k=m;e.push(h);g.push(k)}a.x=e;a.y=g};
}).call(this)
