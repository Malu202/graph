(function(){
'use strict';window.Gauge=Gauge;function Gauge(b,c,d,e,f,g,h){this.doWhenLoaded(function(){this.generateCanvas(b);if(null==d||""==d)d=c;this.size=this.height<this.width?this.height:this.width;this.min=e;this.max=f;this.canvas.style["background-color"]=g;this.textColor=h})}
Gauge.prototype.generateCanvas=function(b){var c=window.devicePixelRatio||1,d=b.getBoundingClientRect(),e=document.createElement("canvas");this.width=Math.round(d.width);this.height=Math.round(d.height);e.width=this.width*c;e.height=this.height*c;this.ctx=e.getContext("2d");this.ctx.scale(c,c);b.style.position="relative";b.style.overflow="hidden";b.style.top="0px";b.style.left="0px";e.style.position="absolute";e.style.top="0px";e.style.left="0px";e.style.height=d.height+"px";e.style.width=d.width+
"px";b.appendChild(e);this.canvas=e};
Gauge.prototype.changeValue=function(b,c){this.ctx.clearRect(0,0,this.width,this.height);this.ctx.font="bold "+this.size/(c+"").length+"px Arial, Helvetica, sans-serif";this.ctx.fillStyle=this.textColor;this.ctx.textAlign="center";this.ctx.textBaseline="middle";this.ctx.fillText(c,this.width/2,this.height/2);b=(b-this.min)/(this.max-this.min);this.ctx.beginPath();this.ctx.lineWidth=.08*this.size;c=new Color(0,0,255);var d=new Color(255,0,0);this.ctx.strokeStyle=c.mix(d,b).rgb();this.ctx.arc(this.width/
2,this.height/2,.9*this.size/2,Math.PI-Math.PI/4,Math.PI/4-(1-b)*(Math.PI+Math.PI/2),!1);this.ctx.stroke()};Gauge.prototype.animateValue=function(b,c,d){this.doWhenLoaded(function(){this.currentValue=this.min;this.value=b;this.displayValue=c;this.animationTime=d;window.requestAnimationFrame(this.animation.bind(this))})};var a=!0;
Gauge.prototype.animation=function(b){if(this.lastTime){var c=b-this.lastTime;this.lastTime=b;this.currentValue+=(this.value-this.min)*c/this.animationTime}else this.firstTime=this.lastTime=b;this.changeValue(this.currentValue,this.displayValue);this.currentValue<this.value?window.requestAnimationFrame(this.animation.bind(this)):this.changeValue(this.value,this.displayValue)};
function Color(b,c,d){this.r=b;this.g=c;this.b=d;this.rgb=function(){return"rgb("+this.r+","+this.g+","+this.b+")"};this.mix=function(b,c){var d=this.r-c*(this.r-b.r),e=this.g-c*(this.g-b.g);b=this.b-c*(this.b-b.b);c=255/Math.max(d,e,b);return new Color(d*c,e*c,b*c)}}var loaded=!1;window.addEventListener("load",function(){loaded=!0});Gauge.prototype.doWhenLoaded=function(b){loaded?b.bind(this)():window.addEventListener("load",function(){b.bind(this)()}.bind(this))};
}).call(this)
