(function(){
'use strict';window.Gauge=Gauge;function Gauge(b,c,d,f,g,h,e){c=b.getBoundingClientRect();d=document.createElement("canvas");d.width=c.width;d.height=c.height;b.appendChild(d);this.height=d.height;this.width=d.width;this.min=f;this.max=g;this.ctx=d.getContext("2d");d.style["background-color"]=h;this.textColor=e}
Gauge.prototype.changeValue=function(b,c){this.ctx.clearRect(0,0,this.width,this.height);this.ctx.font="bold "+this.width/(c+"").length+"px Arial, Helvetica, sans-serif";this.ctx.fillStyle=this.textColor;this.ctx.textAlign="center";this.ctx.textBaseline="middle";this.ctx.fillText(c,this.width/2,this.height/2);b=(b-this.min)/(this.max-this.min);this.ctx.beginPath();this.ctx.lineWidth=8;c=new Color(0,0,255);var d=new Color(255,0,0);this.ctx.strokeStyle=c.mix(d,b).rgb();this.ctx.arc(this.width/2,this.height/
2,.9*this.height/2,Math.PI-Math.PI/4,Math.PI/4-(1-b)*(Math.PI+Math.PI/2),!1);this.ctx.stroke()};Gauge.prototype.animateValue=function(b,c,d){this.currentValue=this.min;this.value=b;this.displayValue=c;this.animationTime=d;window.requestAnimationFrame(this.animation.bind(this))};var a=!0;
Gauge.prototype.animation=function(b){if(this.lastTime){var c=b-this.lastTime;this.lastTime=b;this.currentValue+=(this.value-this.min)*c/this.animationTime}else this.firstTime=this.lastTime=b;this.changeValue(this.currentValue,this.displayValue);this.currentValue<this.value?window.requestAnimationFrame(this.animation.bind(this)):this.changeValue(this.value,this.displayValue)};
function Color(b,c,d){this.r=b;this.g=c;this.b=d;this.rgb=function(){return"rgb("+this.r+","+this.g+","+this.b+")"};this.mix=function(b,c){var d=this.r-c*(this.r-b.r),e=this.g-c*(this.g-b.g);b=this.b-c*(this.b-b.b);c=255/Math.max(d,e,b);return new Color(d*c,e*c,b*c)}};
}).call(this)
